# 검색어 자동 완성 시스템

- 검색창에 검색을 위한 내용을 입력할 때 가장 많이 이용된 검색어 k개를 검색하는 서비스

## 고려해야할 사항

- 자동 완성으로 표시되어야 하는 문장의 개수
- 맞춤법 검사 기능 지원 여부
- 자동 검색을 지원하는 언어
- DAU
- 빠른 응답 속도

## 자동 완성 시스템의 구성 요소

- 기본 골자를 trie자료구조를 이용
  - trie구조로 찾을 수 있는 유효 노드를 찾고 이를 정렬해 인기있는 k개의 단어를 제공

### 데이터 수집 서비스

- 사용자의 검색을 수집하는 서비스
- 질의 서비스에서 자동 완성으로 보여줄 검색어의 지표로 사용
- 질의어-빈도 수를 쌍으로 가짐
- trie를 검색 시마다 빈도수를 갱신을 시도하면 시간이 오래 걸림
  - 빈도수를 갱신하는 작업을 일정 시간마다 수행하고, 이를 trie에 저장

### 질의 서비스

- 사용자의 검색어를 받아 자동 완성에 필요한 데이터를 반환하는 서비스
- 데이터 수집 서비스에서 수집한 지표를 기반으로 인기있는 단어들을 반환
- trie의 빈도수를 캐싱하는 해시테이블 작성하는 전략을 사용 가능
- 클라이언트 질의 최적화 방안
  - 비동기 요청
  - 브라우저 캐싱
  - 데이터 샘플링

### 필터링 기능

- 추천하는 단어가 추천해줘서는 안되는 단어일 경우 자동 완성 결과에서 제거가 필요
- 이를 위한 필터 계층이 제공되어야 함